#!/usr/bin/env python 

import frontmatter
import os
import glob
from datetime import date 
from os.path import expanduser
from dateutil.relativedelta import relativedelta 

home = expanduser("~")

today = date.today() 
# date = date.today().strftime("%Y-%m-%d")
next_month = today + relativedelta(months=1)
next_month_month = next_month.strftime("%m")
next_month_year = next_month.strftime("%Y")

path = (home + '/Next/Administration/Markdown_Files/Sermon_Work/[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9]*[!slides].md')

files = glob.glob(path)
files = sorted(files)

for name in files:
	post = frontmatter.load(name)
        if post['title']:
            title = post['title']
        else:
            title = 'no title yet'
        if post['scripture']:
            scripture = post['scripture']
        else:
            scripture = 'no scripture yet'
	print ('- ' + post['date'][:-6] + ' - ' +  title + ' (' + scripture + ')')



