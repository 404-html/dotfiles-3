#!/usr/bin/env python3

from datetime import date
from datetime import time
from datetime import datetime
from os.path import expanduser
import os
import os.path
import subprocess

home = expanduser("~")
now = datetime.now()
day = now.strftime("%Y-%m-%d")
time = now.strftime("%-I:%M %p")
weekday = now.strftime("%A")
filename =(home + '/Dropbox/Journal/' + day + '.journal.markdown')

if os.path.isfile(filename):
	subprocess.call(['vim', '+3', '-c', 'call AutoCorrect()',  filename])
else:
	target = open (filename, 'w')
	target.write("Date: {}\nTime: {}\nWeekday: {}\n\n\n".format(day, time, weekday))
	target.close()
	subprocess.call(['vim', '+4', '-c', 'call AutoCorrect()', filename])
